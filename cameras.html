<!DOCTYPE html>
<html lang="ru" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ремонт фотоаппаратов | TechFix</title>
    <link rel="stylesheet" href="./styles.css">
    <link rel="stylesheet" href="./styles-header.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header__inner">
                <a href="index.html" class="logo">
                    <span class="logo__icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 15L7 10H17L12 15Z" fill="currentColor"/>
                            <path d="M12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3ZM12 19C8.13401 19 5 15.866 5 12C5 8.13401 8.13401 5 12 5C15.866 5 19 8.13401 19 12C19 15.866 15.866 19 12 19Z" fill="currentColor"/>
                        </svg>
                    </span>
                    <span class="logo__text">TechFix</span>
                </a>
                <nav class="nav">
                    <ul class="nav__list">
                       <li><a href="tv.html" class="nav__link">Телевизоры</a></li>
                        <li><a href="auto-electronics.html" class="nav__link">Автоэлектроника</a></li>
                        <li><a href="consoles.html" class="nav__link">Приставки</a></li>
                        <li><a href="laptops.html" class="nav__link">Ноутбуки</a></li>
                        <li><a href="smartphones.html" class="nav__link">Смартфоны</a></li>
                        <li><a href="index.html#categories" class="nav__link">Все категории</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

        <section class="guides-section">
            <div class="container">
                <div class="section__header">
                    <h2 class="section__title">Гайды по ремонту фотоаппаратов</h2>
                    <div class="sort-controls">
                        <span>Сортировка:</span>
                        <select>
                            <option>По популярности</option>
                            <option>По новизне</option>
                            <option>По сложности</option>
                        </select>
                    </div>
                </div>

                <div class="guides__grid">
                    
                    <!-- Гайд 1 -->
                   <article class="guide-card">
                        <div class="guide-card__image">
                            <img src="https://i.ibb.co/bhbZ6rH/shutter-repair.jpg" alt="Чистка матрицы фотоаппарата" loading="lazy">
                            <span class="guide-card__badge">Средне</span>
                        </div>
                        <div class="guide-card__content">
                           <h3 class="guide-card__title">Чистка матрицы фотоаппарата</h3>
                           <p class="guide-card__excerpt">Полное руководство по безопасной очистке сенсора</p>
                           <div class="guide-card__meta">
                               <span><i class="fas fa-clock"></i> 25 мин</span>
                               <span><i class="fas fa-tools"></i> Средне</span>
                           </div>
                           <a href="gaids/matrix-cleaning.html" class="button button--small">Читать гайд</a>
                        </div>
                    </article>

                    <!-- Гайд 2 -->
                    <article class="guide-card">
                        <div class="guide-card__image">
                            <img src="https://images.unsplash.com/photo-1510127034890-ba27508e9f1c?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Ремонт затвора" loading="lazy">
                            <span class="guide-card__badge">Сложно</span>
                        </div>
                        <div class="guide-card__content">
                            <h3 class="guide-card__title">Замена механизма затвора</h3>
                            <p class="guide-card__excerpt">Пошаговая инструкция с фотографиями процесса</p>
                            <div class="guide-card__meta">
                                <span><i class="fas fa-star"></i> 4.7</span>
                                <span><i class="fas fa-clock"></i> 45 мин</span>
                                <span><i class="fas fa-tools"></i> Сложно</span>
                            </div>
                            <a href="guides/shutter-replacement.html" class="button button--small">Читать гайд</a>
                        </div>
                    </article>

                    <!-- Гайд 3 -->
                    <article class="guide-card">
                        <div class="guide-card__image">
                            <img src="https://images.unsplash.com/photo-1564466809058-bf4114d55352?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Ремонт объектива" loading="lazy">
                            <span class="guide-card__badge">Новое</span>
                        </div>
                        <div class="guide-card__content">
                            <h3 class="guide-card__title">Ремонт автофокуса объектива</h3>
                            <p class="guide-card__excerpt">Как починить заклинивший механизм фокусировки</p>
                            <div class="guide-card__meta">
                                <span><i class="fas fa-star"></i> 4.6</span>
                                <span><i class="fas fa-clock"></i> 30 мин</span>
                                <span><i class="fas fa-tools"></i> Средне</span>
                            </div>
                            <a href="guides/lens-repair.html" class="button button--small">Читать гайд</a>
                        </div>
                    </article>

                    <!-- Гайд 4 -->
                    <article class="guide-card">
                        <div class="guide-card__image">
                            <img src="https://images.unsplash.com/photo-1516035069371-29a1b244cc32?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Замена дисплея" loading="lazy">
                        </div>
                        <div class="guide-card__content">
                            <h3 class="guide-card__title">Замена ЖК-дисплея</h3>
                            <p class="guide-card__excerpt">Инструкция по замене экрана на популярных моделях</p>
                            <div class="guide-card__meta">
                                <span><i class="fas fa-star"></i> 4.5</span>
                                <span><i class="fas fa-clock"></i> 25 мин</span>
                                <span><i class="fas fa-tools"></i> Средне</span>
                            </div>
                            <a href="guides/lcd-replacement.html" class="button button--small">Читать гайд</a>
                        </div>
                    </article>

                    <!-- Гайд 5 -->
                    <article class="guide-card">
                        <div class="guide-card__image">
                            <img src="https://images.unsplash.com/photo-1564466809058-bf4114d55352?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Ремонт кнопок" loading="lazy">
                            <span class="guide-card__badge">Просто</span>
                        </div>
                        <div class="guide-card__content">
                            <h3 class="guide-card__title">Ремонт кнопок управления</h3>
                            <p class="guide-card__excerpt">Как восстановить работу западающих кнопок</p>
                            <div class="guide-card__meta">
                                <span><i class="fas fa-star"></i> 4.4</span>
                                <span><i class="fas fa-clock"></i> 15 мин</span>
                                <span><i class="fas fa-tools"></i> Легко</span>
                            </div>
                            <a href="guides/buttons-repair.html" class="button button--small">Читать гайд</a>
                        </div>
                    </article>

                    <!-- Гайд 6 -->
                    <article class="guide-card">
                        <div class="guide-card__image">
                            <img src="https://images.unsplash.com/photo-1520390138845-fd2d229dd553?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Чистка зеркала" loading="lazy">
                        </div>
                        <div class="guide-card__content">
                            <h3 class="guide-card__title">Чистка зеркала и видоискателя</h3>
                            <p class="guide-card__excerpt">Безопасные методы очистки оптических элементов</p>
                            <div class="guide-card__meta">
                                <span><i class="fas fa-star"></i> 4.8</span>
                                <span><i class="fas fa-clock"></i> 10 мин</span>
                                <span><i class="fas fa-tools"></i> Легко</span>
                            </div>
                            <a href="guides/mirror-cleaning.html" class="button button--small">Читать гайд</a>
                        </div>
                    </article>

                    <!-- Гайд 7 -->
                    <article class="guide-card">
                        <div class="guide-card__image">
                            <img src="https://images.unsplash.com/photo-1510127034890-ba27508e9f1c?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Ремонт картридера" loading="lazy">
                        </div>
                        <div class="guide-card__content">
                            <h3 class="guide-card__title">Ремонт слота для карт памяти</h3>
                            <p class="guide-card__excerpt">Решение проблем с чтением карт памяти</p>
                            <div class="guide-card__meta">
                                <span><i class="fas fa-star"></i> 4.3</span>
                                <span><i class="fas fa-clock"></i> 20 мин</span>
                                <span><i class="fas fa-tools"></i> Средне</span>
                            </div>
                            <a href="guides/card-slot-repair.html" class="button button--small">Читать гайд</a>
                        </div>
                    </article>

                    <!-- Гайд 8 -->
                    <article class="guide-card">
                        <div class="guide-card__image">
                            <img src="https://images.unsplash.com/photo-1564466809058-bf4114d55352?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Замена батареи" loading="lazy">
                            <span class="guide-card__badge">Новое</span>
                        </div>
                        <div class="guide-card__content">
                            <h3 class="guide-card__title">Замена аккумулятора</h3>
                            <p class="guide-card__excerpt">Как заменить старую батарею в фотоаппарате</p>
                            <div class="guide-card__meta">
                                <span><i class="fas fa-star"></i> 4.7</span>
                                <span><i class="fas fa-clock"></i> 10 мин</span>
                                <span><i class="fas fa-tools"></i> Легко</span>
                            </div>
                            <a href="guides/battery-replacement.html" class="button button--small">Читать гайд</a>
                        </div>
                    </article>

                    <!-- Гайд 9 -->
                    <article class="guide-card">
                        <div class="guide-card__image">
                            <img src="https://images.unsplash.com/photo-1516035069371-29a1b244cc32?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Ремонт вспышки" loading="lazy">
                        </div>
                        <div class="guide-card__content">
                            <h3 class="guide-card__title">Ремонт встроенной вспышки</h3>
                            <p class="guide-card__excerpt">Диагностика и ремонт проблем со вспышкой</p>
                            <div class="guide-card__meta">
                                <span><i class="fas fa-star"></i> 4.5</span>
                                <span><i class="fas fa-clock"></i> 25 мин</span>
                                <span><i class="fas fa-tools"></i> Средне</span>
                            </div>
                            <a href="guides/flash-repair.html" class="button button--small">Читать гайд</a>
                        </div>
                    </article>

                    <!-- Гайд 10 -->
                    <article class="guide-card">
                        <div class="guide-card__image">
                            <img src="https://images.unsplash.com/photo-1520390138845-fd2d229dd553?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Обновление прошивки" loading="lazy">
                        </div>
                        <div class="guide-card__content">
                            <h3 class="guide-card__title">Обновление прошивки камеры</h3>
                            <p class="guide-card__excerpt">Пошаговое руководство для всех брендов</p>
                            <div class="guide-card__meta">
                                <span><i class="fas fa-star"></i> 4.8</span>
                                <span><i class="fas fa-clock"></i> 15 мин</span>
                                <span><i class="fas fa-tools"></i> Легко</span>
                            </div>
                            <a href="guides/firmware-update.html" class="button button--small">Читать гайд</a>
                        </div>
                    </article>
                </div>

                <div class="pagination">
                    <a href="#" class="pagination__link active">1</a>
                    <a href="#" class="pagination__link">2</a>
                    <a href="#" class="pagination__link">3</a>
                    <a href="#" class="pagination__link pagination__link--next">Далее</a>
                </div>
            </div>
        </section>

    <footer class="footer">
        <div class="container">
            <div class="footer__grid">
                <div class="footer__col footer__col--logo">
                    <a href="index.html" class="footer-logo">
                        <span class="logo__icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 15L7 10H17L12 15Z" fill="currentColor"/>
                                <path d="M12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3ZM12 19C8.13401 19 5 15.866 5 12C5 8.13401 8.13401 5 12 5C15.866 5 19 8.13401 19 12C19 15.866 15.866 19 12 19Z" fill="currentColor"/>
                            </svg>
                        </span>
                        <span class="logo__text">TechFix</span>
                    </a>
                    <p class="footer__text">Помогаем ремонтировать электронику с 2024 года</p>
                </div>
                <div class="footer__col">
                    <h3 class="footer__title">Разделы</h3>
                    <ul class="footer__links">
                        <li><a href="index.html" class="footer__link">Главная</a></li>
                        <li><a href="all-guides.html" class="footer__link">Все гайды</a></li>
                        <li><a href="how-it-works.html" class="footer__link">Как это работает?</a></li>
                        <li><a href="contacts.html" class="footer__link">Контакты</a></li>
                    </ul>
                </div>
                <div class="footer__col">
                    <h3 class="footer__title">Категории</h3>
                    <ul class="footer__links">
                        <li><a href="tv.html" class="footer__link">Телевизоры</a></li>
                        <li><a href="cameras.html" class="footer__link">Фотоаппараты</a></li>
                        <li><a href="consoles.html" class="footer__link">Игровые приставки</a></li>
                        <li><a href="laptops.html" class="footer__link">Ноутбуки</a></li>
                    </ul>
                </div>
                <div class="footer__col">
                    <h3 class="footer__title">Контакты</h3>
                    <ul class="footer__links">
                        <li><a href="https://t.me/techfix_kz" class="footer__link"><i class="fab fa-telegram"></i> Telegram</a></li>
                        <li><a href="https://instagram.com/techfix_kz" class="footer__link"><i class="fab fa-instagram"></i> Instagram</a></li>
                        <li><a href="mailto:support@techfix.kz" class="footer__link"><i class="fas fa-envelope"></i> Email</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer__bottom">
                <p class="footer__copyright">© 2024 TechFix. Все права защищены.</p>
            </div>
        </div>
    </footer>

   <script>
document.addEventListener('DOMContentLoaded', async function() {
  const guidesContainer = document.querySelector('.guides__grid');
  guidesContainer.innerHTML = '<p class="loading">Загрузка гайдов...</p>';

  try {
    // Замените на ваш реальный URL API или локальный эндпоинт
    const response = await fetch('https://api.github.com/repos/Mikawo846/FixTech/contents/gaids?ref=main');
    
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }

    const files = await response.json();
    const mdFiles = files.filter(file => 
      file.name.endsWith('.md') && 
      file.size > 0
    );

    if (mdFiles.length === 0) {
      guidesContainer.innerHTML = '<p>Гайды не найдены</p>';
      return;
    }

    // Очищаем контейнер
    guidesContainer.innerHTML = '';

    // Ограничиваем параллельные запросы
    const MAX_CONCURRENT = 3;
    for (let i = 0; i < mdFiles.length; i += MAX_CONCURRENT) {
      const chunk = mdFiles.slice(i, i + MAX_CONCURRENT);
      await Promise.all(chunk.map(processFile));
    }

  } catch (error) {
    console.error('Fetch error:', error);
    guidesContainer.innerHTML = `
      <div class="alert alert-error">
        Ошибка загрузки гайдов: ${error.message}
      </div>
    `;
  }

  async function processFile(file) {
    try {
      const fileResponse = await fetch(file.download_url);
      if (!fileResponse.ok) throw new Error(`Failed to load ${file.name}`);
      
      const mdContent = await fileResponse.text();
      const frontmatter = mdContent.split('---')[1];
      
      if (!frontmatter) return;

      const getValue = (regex, index = 1) => {
        const match = frontmatter.match(regex);
        return match ? match[index] : null;
      };

      const category = getValue(/category:\s*"([^"]+)"/i);
      if (category?.toLowerCase() !== 'cameras') return;

      const title = getValue(/title:\s*"([^"]+)"/i) || 'Без названия';
      const image = getValue(/image:\s*"([^"]+)"/i) || 'https://via.placeholder.com/500x300';
      const time = getValue(/time:\s*(\d+)/i);
      const difficulty = getValue(/difficulty:\s*"([^"]+)"/i);
      const slug = file.name.replace('.md', '');

      const guideCard = document.createElement('article');
      guideCard.className = 'guide-card';
      guideCard.innerHTML = `
        <div class="guide-card__image">
          <img src="${image}" loading="lazy" alt="${title}">
        </div>
        <div class="guide-card__content">
          <h3 class="guide-card__title">${title}</h3>
          <p class="guide-card__excerpt">${time ? time + ' мин' : ''}${difficulty ? ' • ' + difficulty : ''}</p>
          <a href="gaids/${slug}.html" class="button button--small">Читать гайд</a>
        </div>
      `;

      guidesContainer.appendChild(guideCard);
    } catch (e) {
      console.error(`Error processing ${file.name}:`, e);
    }
  }
});

    <script src="app.js"></script>
</body>
</html>
